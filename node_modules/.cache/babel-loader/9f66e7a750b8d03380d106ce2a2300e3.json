{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\PURWADHIKA\\\\FINAL PROJECT\\\\FrontEnd-AKEI\\\\src\\\\pages\\\\admin\\\\branch_activity.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './admin.css';\nimport { Table, Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { API_URL_SQL, dateFormatter } from '../../helpers';\nimport Axios from 'axios';\n\nconst ActivityLog = props => {\n  _s();\n\n  const [trackActivityLog, settrackActivityLog] = useState([]);\n  const [page, setpage] = useState(1);\n  const [countPage, setcountPage] = useState('');\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    fetchData();\n  }, [page]);\n\n  const fetchData = () => {\n    Axios.get(`${API_URL_SQL}/admin/getWHActivityLog?userLoc=${props.Auth.notes}&&page=${page}`).then(res => {\n      settrackActivityLog(res.data.activityRes);\n      setcountPage(res.data.countAct[0].amountofact);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const movePage = value => {\n    setpage(value);\n  };\n\n  const renderPage = () => {\n    let amountPage = Math.ceil(countPage / 5);\n    let arr = new Array(amountPage);\n\n    for (let i = 0; i < arr.length; i++) {\n      if (i + 1 === page) {\n        arr[i] = /*#__PURE__*/_jsxDEV(PaginationItem, {\n          disabled: true,\n          children: /*#__PURE__*/_jsxDEV(PaginationLink, {\n            children: i + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this);\n      } else {\n        arr[i] = /*#__PURE__*/_jsxDEV(PaginationItem, {\n          onClick: () => movePage(i + 1),\n          children: /*#__PURE__*/_jsxDEV(PaginationLink, {\n            children: i + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this);\n      }\n    }\n\n    return arr;\n  };\n\n  const renderTableActivity = () => {\n    return trackActivityLog.map((val, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: index + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: val.product_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: val.quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: dateFormatter(parseInt(val.date_in))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: val.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: val.notes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      paddingTop: 10\n    },\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: renderTableActivity()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table_footer d-flex justify-content-center align-items-center\",\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        \"aria-label\": \"Page navigation example\",\n        children: renderPage()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ActivityLog, \"KLwOnMGAIdjrLqO+HCkpK4FErck=\");\n\n_c = ActivityLog;\n\nconst Mapstatetoprops = state => {\n  return {\n    Auth: state.Auth\n  };\n};\n\n_c2 = Mapstatetoprops;\nexport default connect(Mapstatetoprops)(ActivityLog);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ActivityLog\");\n$RefreshReg$(_c2, \"Mapstatetoprops\");","map":{"version":3,"sources":["D:/PURWADHIKA/FINAL PROJECT/FrontEnd-AKEI/src/pages/admin/branch_activity.jsx"],"names":["React","useEffect","useState","Table","Pagination","PaginationItem","PaginationLink","connect","API_URL_SQL","dateFormatter","Axios","ActivityLog","props","trackActivityLog","settrackActivityLog","page","setpage","countPage","setcountPage","fetchData","get","Auth","notes","then","res","data","activityRes","countAct","amountofact","catch","err","console","log","movePage","value","renderPage","amountPage","Math","ceil","arr","Array","i","length","renderTableActivity","map","val","index","display","justifyContent","alignItems","product_name","quantity","parseInt","date_in","status","paddingTop","Mapstatetoprops","state"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,aAAP;AACA,SAASC,KAAT,EAAgBC,UAAhB,EAA4BC,cAA5B,EAA4CC,cAA5C,QAAkE,YAAlE;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,eAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAAA;;AAC3B,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0CZ,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,EAAD,CAA1C;AAEAD,EAAAA,SAAS,CAAC,MAAK;AACXkB,IAAAA,SAAS;AACZ,GAFQ,EAEP,EAFO,CAAT;AAIAlB,EAAAA,SAAS,CAAC,MAAK;AACXkB,IAAAA,SAAS;AACZ,GAFQ,EAEP,CAACJ,IAAD,CAFO,CAAT;;AAIA,QAAMI,SAAS,GAAG,MAAM;AACpBT,IAAAA,KAAK,CAACU,GAAN,CAAW,GAAEZ,WAAY,mCAAkCI,KAAK,CAACS,IAAN,CAAWC,KAAM,UAASP,IAAK,EAA1F,EACCQ,IADD,CACOC,GAAD,IAAQ;AACVV,MAAAA,mBAAmB,CAACU,GAAG,CAACC,IAAJ,CAASC,WAAV,CAAnB;AACAR,MAAAA,YAAY,CAACM,GAAG,CAACC,IAAJ,CAASE,QAAT,CAAkB,CAAlB,EAAqBC,WAAtB,CAAZ;AACH,KAJD,EAIGC,KAJH,CAISC,GAAG,IAAG;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KAND;AAOH,GARD;;AAUA,QAAMG,QAAQ,GAAIC,KAAD,IAAW;AACxBlB,IAAAA,OAAO,CAACkB,KAAD,CAAP;AACH,GAFD;;AAIA,QAAMC,UAAU,GAAG,MAAM;AACrB,QAAIC,UAAU,GAAGC,IAAI,CAACC,IAAL,CAAUrB,SAAS,GAAC,CAApB,CAAjB;AACA,QAAIsB,GAAG,GAAG,IAAIC,KAAJ,CAAUJ,UAAV,CAAV;;AACA,SAAI,IAAIK,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,GAAG,CAACG,MAAnB,EAA2BD,CAAC,EAA5B,EAAgC;AAC5B,UAAIA,CAAC,GAAC,CAAH,KAAQ1B,IAAX,EAAiB;AACbwB,QAAAA,GAAG,CAACE,CAAD,CAAH,gBACI,QAAC,cAAD;AAAwB,UAAA,QAAQ,MAAhC;AAAA,iCACI,QAAC,cAAD;AAAA,sBACKA,CAAC,GAAC;AADP;AAAA;AAAA;AAAA;AAAA;AADJ,WAAqBA,CAArB;AAAA;AAAA;AAAA;AAAA,gBADJ;AAOH,OARD,MAQO;AACHF,QAAAA,GAAG,CAACE,CAAD,CAAH,gBACI,QAAC,cAAD;AAAwB,UAAA,OAAO,EAAE,MAAIR,QAAQ,CAACQ,CAAC,GAAC,CAAH,CAA7C;AAAA,iCACI,QAAC,cAAD;AAAA,sBACKA,CAAC,GAAC;AADP;AAAA;AAAA;AAAA;AAAA;AADJ,WAAqBA,CAArB;AAAA;AAAA;AAAA;AAAA,gBADJ;AAOH;AACJ;;AACD,WAAOF,GAAP;AACH,GAvBD;;AAyBA,QAAMI,mBAAmB,GAAC,MAAI;AAC1B,WAAO9B,gBAAgB,CAAC+B,GAAjB,CAAqB,CAACC,GAAD,EAAMC,KAAN,kBAC1B;AAAA,8BACE;AAAI,QAAA,KAAK,EAAE;AAACC,UAAAA,OAAO,EAAC,MAAT;AAAiBC,UAAAA,cAAc,EAAC,QAAhC;AAA0CC,UAAAA,UAAU,EAAC;AAArD,SAAX;AAAA,kBAA4EH,KAAK,GAAC;AAAlF;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,kBAAKD,GAAG,CAACK;AAAT;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA,kBAAKL,GAAG,CAACM;AAAT;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAA,kBAAK1C,aAAa,CAAC2C,QAAQ,CAACP,GAAG,CAACQ,OAAL,CAAT;AAAlB;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE;AAAA,kBAAKR,GAAG,CAACS;AAAT;AAAA;AAAA;AAAA;AAAA,cALF,eAME;AAAA,kBAAKT,GAAG,CAACvB;AAAT;AAAA;AAAA;AAAA;AAAA,cANF;AAAA,OAASwB,KAAT;AAAA;AAAA;AAAA;AAAA,YADK,CAAP;AAUH,GAXD;;AAaA,sBACI;AAAK,IAAA,KAAK,EAAE;AAACS,MAAAA,UAAU,EAAC;AAAZ,KAAZ;AAAA,4BACI,QAAC,KAAD;AAAA,8BACI;AAAA,+BACI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAWI;AAAA,kBACCZ,mBAAmB;AADpB;AAAA;AAAA;AAAA;AAAA,cAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAgBI;AAAK,MAAA,SAAS,EAAC,+DAAf;AAAA,6BACI,QAAC,UAAD;AAAY,sBAAW,yBAAvB;AAAA,kBACKR,UAAU;AADf;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAwBH,CAzFD;;GAAMxB,W;;KAAAA,W;;AA2FN,MAAM6C,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACHpC,IAAAA,IAAI,EAAEoC,KAAK,CAACpC;AADT,GAAP;AAGH,CAJD;;MAAMmC,e;AAMN,eAAejD,OAAO,CAACiD,eAAD,CAAP,CAAyB7C,WAAzB,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './admin.css'\r\nimport { Table, Pagination, PaginationItem, PaginationLink } from 'reactstrap';\r\nimport {connect} from 'react-redux'\r\nimport { API_URL_SQL, dateFormatter } from '../../helpers';\r\nimport Axios from 'axios';\r\n\r\nconst ActivityLog = (props) => {\r\n    const [trackActivityLog, settrackActivityLog] = useState([])\r\n    const [page, setpage] = useState(1)\r\n    const [countPage, setcountPage] = useState('')\r\n\r\n    useEffect(()=> {\r\n        fetchData()\r\n    },[])\r\n\r\n    useEffect(()=> {\r\n        fetchData()\r\n    },[page])\r\n\r\n    const fetchData = () => {\r\n        Axios.get(`${API_URL_SQL}/admin/getWHActivityLog?userLoc=${props.Auth.notes}&&page=${page}`)\r\n        .then((res)=> {\r\n            settrackActivityLog(res.data.activityRes)\r\n            setcountPage(res.data.countAct[0].amountofact)\r\n        }).catch(err=> {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const movePage = (value) => {\r\n        setpage(value)\r\n    }\r\n\r\n    const renderPage = () => {\r\n        let amountPage = Math.ceil(countPage/5)\r\n        let arr = new Array(amountPage)\r\n        for(let i=0; i<arr.length; i++) {\r\n            if((i+1)===page) {\r\n                arr[i] = (\r\n                    <PaginationItem key={i} disabled>\r\n                        <PaginationLink >\r\n                            {i+1}\r\n                        </PaginationLink>\r\n                    </PaginationItem>\r\n                )\r\n            } else {\r\n                arr[i] = (\r\n                    <PaginationItem key={i} onClick={()=>movePage(i+1)} >\r\n                        <PaginationLink >\r\n                            {i+1}\r\n                        </PaginationLink>\r\n                    </PaginationItem>\r\n                )\r\n            }\r\n        }\r\n        return arr\r\n    }\r\n\r\n    const renderTableActivity=()=>{\r\n        return trackActivityLog.map((val, index)=>(\r\n          <tr key={index}>\r\n            <th style={{display:'flex', justifyContent:'center', alignItems:'center'}}>{index+1}</th>\r\n            <td>{val.product_name}</td>\r\n            <td>{val.quantity}</td>\r\n            <td>{dateFormatter(parseInt(val.date_in))}</td>\r\n            <td>{val.status}</td>\r\n            <td>{val.notes}</td>\r\n          </tr>\r\n        ))\r\n    }\r\n\r\n    return (\r\n        <div style={{paddingTop:10}}>\r\n            <Table>\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>Product</th>\r\n                        <th>Quantity</th>\r\n                        <th>Date</th>\r\n                        <th>Status</th>\r\n                        <th>Notes</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                {renderTableActivity()}\r\n                </tbody>\r\n            </Table>\r\n            <div className='table_footer d-flex justify-content-center align-items-center'>\r\n                <Pagination aria-label=\"Page navigation example\">\r\n                    {renderPage()}\r\n                </Pagination>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Mapstatetoprops = (state) => {\r\n    return {\r\n        Auth: state.Auth\r\n    }\r\n}\r\n\r\nexport default connect(Mapstatetoprops)(ActivityLog)"]},"metadata":{},"sourceType":"module"}