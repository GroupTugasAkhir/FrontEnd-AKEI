{"ast":null,"code":"import Axios from 'axios';\nimport { API_URL_SQL } from './../../helpers/apiurl';\nexport const RegisThunk = regisData => {\n  return dispatch => {\n    dispatch({\n      type: 'LOADING'\n    });\n    Axios.post(`${API_URL_SQL}/auth/register`, regisData).then(res => {\n      localStorage.setItem('user', JSON.stringify(res.data));\n      dispatch({\n        type: 'REGISTER',\n        payload: res.data\n      });\n    }).catch(err => {\n      dispatch({\n        type: 'ERROR'\n      });\n    });\n  };\n};\n_c = RegisThunk;\nexport const verifiedAction = newDataIn => {\n  return {\n    type: 'LOGIN',\n    payload: newDataIn\n  };\n};\nexport const LoginThunk = loginData => {\n  return dispatch => {\n    dispatch({\n      type: 'LOADING'\n    });\n    Axios.post(`${API_URL_SQL}/auth/login`, loginData).then(res => {\n      console.log(res.data);\n      localStorage.setItem('user', JSON.stringify(res.data.dataLogin));\n      dispatch({\n        type: 'LOGIN',\n        payload: res.data.dataLogin,\n        cart: res.data.dataCart\n      });\n    }).catch(err => {\n      console.log(err);\n      dispatch({\n        type: 'ERROR',\n        payload: err.response.data.message\n      });\n    });\n  };\n};\n_c2 = LoginThunk;\nexport const KeepLogin = () => {\n  return dispatch => {\n    dispatch({\n      type: 'LOADING'\n    });\n    let datauser = localStorage.getItem('user');\n\n    if (datauser) {\n      datauser = JSON.parse(datauser);\n      Axios.get(`${API_URL_SQL}/auth/keepLogin/${datauser.user_id}`).then(res => {\n        console.log(res.data.dataCart);\n        localStorage.setItem('user', JSON.stringify(res.data.dataLogin));\n        dispatch({\n          type: 'LOGIN',\n          payload: res.data.dataLogin,\n          cart: res.data.dataCart\n        });\n      }).catch(err => {\n        dispatch({\n          type: 'ERROR'\n        });\n        console.log(err);\n      });\n    }\n  };\n};\n_c3 = KeepLogin;\nexport const FirebaseAuth = dataUserFirebase => {\n  return dispatch => {\n    Axios.post(`${API_URL_SQL}/auth/firebaseauth`, dataUserFirebase).then(res => {\n      console.log(res.data);\n      localStorage.setItem('user', JSON.stringify(res.data.dataLogin));\n      dispatch({\n        type: 'LOGIN',\n        payload: res.data.dataLogin,\n        cart: res.data.dataCart\n      });\n    }).catch(err => {\n      console.log(err);\n      dispatch({\n        type: 'ERROR',\n        payload: err.response.data.message\n      });\n    });\n  };\n};\n_c4 = FirebaseAuth;\nexport const changeAdmin = bool => {\n  return {\n    type: 'ADMIN',\n    payload: bool\n  };\n};\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"RegisThunk\");\n$RefreshReg$(_c2, \"LoginThunk\");\n$RefreshReg$(_c3, \"KeepLogin\");\n$RefreshReg$(_c4, \"FirebaseAuth\");","map":{"version":3,"sources":["D:/PURWADHIKA/FINAL PROJECT/FrontEnd-AKEI/src/redux/actions/AuthActions.js"],"names":["Axios","API_URL_SQL","RegisThunk","regisData","dispatch","type","post","then","res","localStorage","setItem","JSON","stringify","data","payload","catch","err","verifiedAction","newDataIn","LoginThunk","loginData","console","log","dataLogin","cart","dataCart","response","message","KeepLogin","datauser","getItem","parse","get","user_id","FirebaseAuth","dataUserFirebase","changeAdmin","bool"],"mappings":"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","sourcesContent":["import Axios from 'axios'\r\nimport {API_URL_SQL} from './../../helpers/apiurl'\r\n\r\nexport const RegisThunk = (regisData) => {\r\n    return (dispatch)=> {\r\n        dispatch({type: 'LOADING'})\r\n        Axios.post(`${API_URL_SQL}/auth/register`,regisData)\r\n        .then((res)=> {\r\n            localStorage.setItem('user', JSON.stringify(res.data))\r\n            dispatch({type: 'REGISTER', payload: res.data})\r\n        }).catch((err)=> {\r\n            dispatch({type: 'ERROR'})\r\n        })\r\n    }\r\n}\r\n\r\nexport const verifiedAction = (newDataIn) => {\r\n    return {\r\n        type: 'LOGIN',\r\n        payload: newDataIn\r\n    }\r\n}\r\n\r\nexport const LoginThunk = (loginData) => {\r\n    return (dispatch)=> {\r\n        dispatch({type: 'LOADING'})\r\n        Axios.post(`${API_URL_SQL}/auth/login`,loginData)\r\n        .then((res)=> {\r\n            console.log(res.data);\r\n            localStorage.setItem('user', JSON.stringify(res.data.dataLogin))\r\n            dispatch({type: 'LOGIN', payload: res.data.dataLogin, cart: res.data.dataCart})\r\n        }).catch((err)=> {\r\n            console.log(err);\r\n            dispatch({type: 'ERROR', payload: err.response.data.message})\r\n        })\r\n    }\r\n}\r\n\r\nexport const KeepLogin = () => {\r\n    return (dispatch)=> {\r\n        dispatch({type: 'LOADING'})\r\n        let datauser = localStorage.getItem('user')\r\n        \r\n        if(datauser){\r\n            datauser = JSON.parse(datauser)\r\n            Axios.get(`${API_URL_SQL}/auth/keepLogin/${datauser.user_id}`)\r\n            .then((res)=> {\r\n                console.log(res.data.dataCart);\r\n                localStorage.setItem('user', JSON.stringify(res.data.dataLogin))\r\n                dispatch({type: 'LOGIN', payload: res.data.dataLogin, cart: res.data.dataCart})\r\n            }).catch((err)=> {\r\n                dispatch({type: 'ERROR'})\r\n                console.log(err);\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const FirebaseAuth = (dataUserFirebase) => {\r\n    return(dispatch)=> {\r\n        Axios.post(`${API_URL_SQL}/auth/firebaseauth`,dataUserFirebase)\r\n        .then((res)=> {\r\n            console.log(res.data);\r\n            localStorage.setItem('user', JSON.stringify(res.data.dataLogin))\r\n            dispatch({type: 'LOGIN', payload: res.data.dataLogin, cart: res.data.dataCart})\r\n        }).catch((err)=> {\r\n            console.log(err);\r\n            dispatch({type: 'ERROR', payload: err.response.data.message})\r\n        })\r\n    }\r\n}\r\n\r\nexport const changeAdmin = (bool) => {\r\n    return {\r\n        type: 'ADMIN',\r\n        payload: bool\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}